#include <Windows.h>
#include <string>

#include <O2MusicHook/Launcher/Process.hpp>
#include <O2MusicHook/Launcher/Injector.hpp>

int main()
{
    // TODO: read all arguments that passed into launcher then pass all of them into client
    const std::string client = "OTwo_solista.exe";
    const std::string args   = "OTwo_solista.exe 00C70200E85000DF8E00E85000123300F1A60096B111113E00811000717E0096B80099FC0013FD00CB8300A40C006E1234596E00B705003F1600BF7500ADFE001B2000C4C100C5F30099F400E9BE0013FD000CCC0022F900E0C4002421002421001B2000639B00334500D8BC005FB300192000583200637E00111110512000192000EAFD00774101011111EFCA00B96E00F3A500F478001111005B8200B23E003C0900C06800E51234775500AF02003D8200D11110C41A005C620082050096B8006B412346B800162200111111ED6E00111100B7050034E300774100C00800FAC7001234007205000B8200746300E32E0014D900036000F4780099FC00637E001B20001E1500078600F4920028B600280E00854E00F27600C2AA00AE6F0078120012340063510073DB00670600CE5700845300B0BE00E25400D883004EF400B4D900C2AA0087F4011111111111111111111111114E1700FBA0001B2000C4C1006C63008834 test|??|127.0.0.1|15010|test|??|127.0.0.1|15010|test|??|127.0.0.1|15010|test|??|127.0.0.1|15010|test|??|127.0.0.1|15010|test|??|127.0.0.1|15010";
    
    auto process  = O2MusicHook::Launcher::Process::Create(client, args, true);
    auto injector = O2MusicHook::Launcher::Injector(&process);
    auto remote   = injector.Inject("O2MusicHook.dll");

    process.Resume();
    return 0;
}